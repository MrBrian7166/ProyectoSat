<!DOCTYPE html PUBLIC "-/W3C/DTD XHTML 1.0 Transitional/EN" "http:/www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html class="js svg wf-opensans-i3-active wf-opensans-i4-active wf-opensans-n6-active wf-opensans-n7-active wf-opensans-n4-active wf-opensans-n3-active wf-active"><head>
    <meta charset="ISO-8859-1">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,IE=EmulateIE11,IE=EmulateIE10,IE=EmulateIE9,IE=11,IE=10,IE=9,IE=8">

    <!-- CSS -->
    <link href="../gobmx/assets/styles/main.css" rel="stylesheet">

    <script src="https://login.mat.sat.gob.mx/nidp/gobmx/assets/scripts/webfont.js" type="text/javascript" async=""></script><script src="https://login.mat.sat.gob.mx/nidp/gobmx/assets/scripts/plugins.js"></script><script src="https://login.mat.sat.gob.mx/nidp/gobmx/assets/scripts/main.js"></script><script type="application/javascript">
        //Variables globales
        var root = 'https://login.mat.sat.gob.mx/';
        var path = root + 'nidp/gobmx/assets/';
        var imagesPath = path + 'images/';
        var scriptsPath = path + 'scripts/';
        var stylesPath = path + 'styles/';
        var myVar;
        var jsurlciec = 'https://login.mat.sat.gob.mx/nidp/app/login?id=contr-dual-totp-eFirma&sid=0&option=credential&sid=0';

        var showEncabezado = false;
        try {
            window.parent.document
            if (window.parent.document == undefined) {
                showEncabezado = false;
            } else {
                showEncabezado = true;
            }
        } catch (e) {
            showEncabezado = false;
        }
    </script>

    <meta http-equiv="X-UA-Compatible" content="IE=edge,IE=EmulateIE11,IE=EmulateIE10,IE=EmulateIE9,IE=11,IE=10,IE=9,IE=8">
    <meta http-equiv="content-language" content="es">
    <meta http-equiv="content-type" content="text/html; charset=utf-8">


    <!-- Javascript -->
    <script src="../gobmx/assets/scripts/respond.min.js"></script>
    <script src="../gobmx/assets/scripts/jquery.min.js"></script>
    <script src="../gobmx/assets/scripts/ie8.js"></script>
    <script src="../gobmx/assets/scripts/gobmx.js"></script>

    <script language="JavaScript" type="text/javascript" src="/nidp/gobmx/x509SAT/js/sat/libs.min.js"></script>

    <script language="JavaScript" type="text/javascript" src="/nidp/gobmx/x509SAT/js/sjcl/sjcl.js"></script>
    <script language="JavaScript" type="text/javascript" src="/nidp/gobmx/x509SAT/js/sjcl/sha1.js"></script>

    <script language="JavaScript" type="text/javascript" src="/nidp/gobmx/x509SAT/js/jsrsasign/ext/jsbn.js"></script>
    <script language="JavaScript" type="text/javascript" src="/nidp/gobmx/x509SAT/js/jsrsasign/ext/jsbn2.js"></script>
    <script language="JavaScript" type="text/javascript" src="/nidp/gobmx/x509SAT/js/jsrsasign/ext/rsa.js"></script>
    <script language="JavaScript" type="text/javascript" src="/nidp/gobmx/x509SAT/js/jsrsasign/ext/rsa2.js"></script>
    <script language="JavaScript" type="text/javascript" src="/nidp/gobmx/x509SAT/js/jsrsasign/ext/base64.js"></script>

    <script language="JavaScript" type="text/javascript" src="/nidp/gobmx/x509SAT/js/jsrsasign/crypto-1.1.min.js"></script>
    <script language="JavaScript" type="text/javascript" src="/nidp/gobmx/x509SAT/js/jsrsasign/asn1hex-1.1.min.js"></script>
    <script language="JavaScript" type="text/javascript" src="/nidp/gobmx/x509SAT/js/jsrsasign/rsasign-1.2.min.js"></script>
    <script language="JavaScript" type="text/javascript" src="/nidp/gobmx/x509SAT/js/jsrsasign/x509-1.1.min.js"></script>

    <script language="JavaScript" type="text/javascript" src="/nidp/gobmx/x509SAT/js/cryptoJS/rollups/pbkdf2.js"></script>
    <script language="JavaScript" type="text/javascript" src="/nidp/gobmx/x509SAT/js/cryptoJS/rollups/tripledes.js"></script>
    <script language="JavaScript" type="text/javascript" src="/nidp/gobmx/x509SAT/js/cryptoJS/rollups/aes.js"></script>
    <script language="JavaScript" type="text/javascript" src="/nidp/gobmx/x509SAT/js/cryptoJS/rollups/rc2.js"></script>

    <script language="JavaScript" type="text/javascript" src="/nidp/gobmx/x509SAT/js/asn1/asn1.js"></script>
    <script language="JavaScript" type="text/javascript" src="/nidp/gobmx/x509SAT/js/asn1/base64.js"></script>
    <script language="JavaScript" type="text/javascript" src="/nidp/gobmx/x509SAT/js/asn1/hex.js"></script>

    <script language="JavaScript" type="text/javascript" src="/nidp/gobmx/x509SAT/js/jquery/jquery-1.6.4.min.js"></script>

     <title>SAT Autenticación</title><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,400,300,600,700&amp;subset=latin" media="all">
</head>

<body style="padding-top: 0px;"><header><nav class="navbar navbar-inverse navbar-fixed-top" role="navigation"><div class="container"><div class="navbar-header"><button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbarMainCollapse"><span class="sr-only">Interruptor de Navegación</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><a class="navbar-brand" href="https://www.gob.mx/"><img src="https://framework-gb.cdn.gob.mx/landing/img/logoheader.svg" width="128" height="48" alt="PÃ¡gina de inicio, Gobierno de MÃ©xico"></a></div><div class="collapse navbar-collapse" id="navbarMainCollapse"><ul class="nav navbar-nav navbar-right"><li><a href="https://www.gob.mx/tramites">Trámites</a></li><li><a href="https://www.gob.mx/gobierno">Gobierno</a></li><li><a href="https://www.gob.mx/busqueda"><span class="sr-only">Búsqueda</span><i class="icon-search"></i></a></li></ul></div></div></nav></header>

<script type="text/javascript">

    $(function (e) {
        var error = '';
        if (error != "" || error.length != 0) {
            if (new String(error).valueOf() == new String("Certificado Revocado").valueOf()) {
                error = "No se puede acceder al aplicativo porque su E.FIRMA estÃ¡ revocada.";
            }

            if (new String(error).valueOf() == new String("Certificado Caduco").valueOf()) {
                error = "No se puede acceder al aplicativo porque su E.FIRMA no estÃ¡ vigente.";
            }

            showMsgError(error);
        }
    });
    function despliega(error) {
        showMsgError(error);
    }

    function cerrarPopup() {
        var link = document.getElementById("linkClose");
        link.click();
    }
    function firmar(event) {
        if (validate()) {
            //catpcha
            $('#jcaptcha').val($('#jcaptchainput').val());
            console.log('Realizando firma...');
            var rfc = document.getElementById("rfc").value;
            console.log('RFC obtenido: ' + rfc);
            var numSerie = obtieneNumSerie();
            console.log('Numero de serie: ' + numSerie);
            var co = document.getElementById("tokenuuid").value + "|" + rfc + "|" + numSerie;
            console.log('El token generado es: ' + co);
            var laFirma = generaFirma(document.getElementById("privateKeyPassword").value, co);
            console.log('La firma generada es: ' + laFirma);
            if (laFirma != 'SIN_FIRMA') {
                var token = Base64.encode(Base64.encode(co) + "#" + laFirma);
                console.log('Token Final: ' + token);
                document.getElementById("token").value = token;
                document.getElementById("certform").submit();
            }
        }else {
            event.preventDefault();
            showMsgError('<strong>Â¡Error!</strong> no ha llenado varios campos requeridos. Por favor verifique.');
        }
    }

    /**
     * Funcion para mostrar mensaje de error.
     * */
    function showMsgError(mensaje) {
        $('#divError').html(mensaje);
        $('#divError').show();
        document.getElementById("submit").disabled = true;
    }

    function limpiarMsgs() {
        $('#divError').html("");
        $('#divError').hide();
        document.getElementById("submit").disabled = false;
    }

    function clickContrasenia() {
      var wsfed = window.location.href;
        //alert("wsfed: "+window.location.href);
        //alert("jsurlciec: "+jsurlciec);
        //alert("IndexOf: "+wsfed.indexOf('wsfed'));
      if(wsfed.indexOf('wsfed') > 0){
         // $(location).attr('href', 'https://authcdev.siat.sat.gob.mx/nidp/wsfed/ep?id=das_totp&sid=0&option=credential&sid=0');
        $(location).attr('href', 'https://login.mat.sat.gob.mx/nidp/app/login?id=contr-dual-totp-eFirma&sid=0&option=credential&sid=0');
      }else{
          $(location).attr('href', jsurlciec);
      }
    }

</script>

<!-- Contenido -->
<main class="page">
    <div class="container" id="container" style="margin-top: 45px;">
        <ol id="breadcrumb" class="breadcrumb" hidden="" style="display: block;"> <li><a href="https://www.gob.mx"><i class="icon icon-home"></i></a></li><li id="tramiteCampo"><a id="tramite" href="https://login.mat.sat.gob.mx/nidp//app/login?target=https%3A%2F%2Flogin.mat.sat.gob.mx%2Fnidp%2Foauth%2Fnam%2Fauthz%3Fclient_id%3D50bffab8-793c-41c4-b639-9abe2a93cb2c%26redirect_uri%3Dhttps%3A%2F%2Fptsc32d.clouda.sat.gob.mx%3A443%2Foauth2%2Fcallback%26response_type%3Dcode%26scope%3Dopenid%2Bmscontribuyente%26code_challenge_method%3DS256%26response_mode%3Dform_post">Trámite</a></li><li class="active">Inicio</li></ol>
        <div class="row">
            <div class="col-sm-8 bottom-buffer">
                <!-- Contenido 2/3 -->
                <!-- TITULO -->
                <div class="bottom-buffer">
                    <h3>Acceso con e.firma</h3>
                </div>

                <!-- Mensaje ERROR -->
                <div id="divError" class="alert alert-danger" style="display: none;"></div>

                <!-- FORMULARIO -->
                <form role="form" method="post">

                    <div class="form-group">
                        <div class="input-group">
                            <label class="control-label" for="txtCertificate">Certificado (.cer):</label>
                            <input class="form-control" type="text" placeholder="Ubicación del certificado" name="txtCertificate" id="txtCertificate" size="25" readonly="readonly" style="width: 95%" onclick="limpiarMsgs();">
                            <input type="file" style="display: none" accept=".cer" id="fileCertificate" onclick="limpiarMsgs();">

                            <span class="input-group-btn" style="vertical-align: bottom">
                                <button type="button" onclick="limpiarMsgs();" class="btn btn-default" id="btnCertificate" name="btnCertificate">Buscar</button>
                            </span>
                        </div>
                        <span id="msgErrorCert" style="display: none; color: #D0021B; font-size: 11px; font-weight: initial;">Este campo es obligatorio.</span>
                    </div>

                    <div class="form-group">
                        <div class="input-group">
                            <label class="control-label" for="txtPrivateKey">Clave privada (.key):</label>
                            <input class="form-control" id="txtPrivateKey" name="txtPrivateKey" size="25" type="text" placeholder="Ubicación de la llave privada" readonly="readonly" style="width: 95%" onclick="limpiarMsgs();">
                            <input type="file" style="display: none" accept=".key" id="filePrivateKey" onclick="limpiarMsgs();">

                            <span class="input-group-btn" style="vertical-align: bottom">
                                <button type="button" class="btn btn-default" name="btnPrivateKey" id="btnPrivateKey" onclick="limpiarMsgs();">Buscar</button>
                            </span>
                        </div>
                        <span id="msgErrorKey" style="display: none; color: #D0021B; font-size: 11px; font-weight: initial;">Este campo es obligatorio.</span>
                    </div>

                    <div class="form-group">
                        <label class="control-label" for="privateKeyPassword">
                            Contraseña de clave privada:
                            <span style="left: -2px;" class="glyphicon glyphicon-question-sign" aria-hidden="true" data-toggle="tooltip" data-placement="right" title="Esta contraseÃ±a es la que corresponde la clave privada .key"></span>
                        </label>
                        <input class="form-control" id="privateKeyPassword" type="password" name="privateKeyPassword" placeholder="Contraseña" onclick="limpiarMsgs();">
                        <span id="msgErrorPass" style="display: none; color: #D0021B; font-size: 11px; font-weight: initial;">Este campo es obligatorio.</span>
                    </div>

                    <div class="form-group">
                        <label for="rfc">RFC:</label>
                        <input class="form-control" name="rfc" id="rfc" placeholder="RFC" type="text" disabled="">
                        <span id="msgErrorRfc" style="display: none; color: #D0021B; font-size: 11px; font-weight: initial;">Este campo es obligatorio.</span>
                    </div>

                    <div class="clearfix">
                        <div class="pull-right">
                        
                            <input class="btn btn-default" type="button" value="ContraseÃ±a" id="contrasena" name="contrasena" onclick="clickContrasenia()">
                            
                        
                            <input class="btn btn-primary" type="button" value="Enviar" id="submit" name="submit" onclick="firmar(event);">
                            
                        </div>
                    </div>

                </form>

</div>
<div class="col-sm-12">

<div style="background-color: #D9EDF7;
    width: 100%;
    border: 2px #BCE8F1;
    padding: 20px;
    margin: 2px;
    font-size: 18px;
    border-style: solid;
    overflow: auto;">

<font color="#31708F"><center><b>Aviso de privacidad simplificado</b></center>
<center>El Servicio de AdministraciÃ³n Tributaria, es el responsable del tratamiento de los datos personales que se recolectan a travÃ©s de su portal de internet<a target="_blank" onclick="window.open('https://www.sat.gob.mx')">(https://www.sat.gob.mx)</a>,los cuales son protegidos conforme a lo dispuesto en la Ley General de ProtecciÃ³n de Datos Personales en PosesiÃ³n de Sujetos Obligados y la normatividad que resulte aplicable.</center>
<br style="line-height: 20px;">
<center>Para mayor informaciÃ³n acerca de este tema y de los derechos que puedes hacer valer, ponemos a tu disposiciÃ³n el Aviso de privacidad en el sitio: <a target="_blank" onclick="window.open('https://repositorio.cloudb.sat.gob.mx/FTP/avisoprivacidad/802_NV_aviso_integral.html')">https://repositorio.cloudb.sat.gob.mx/FTP/avisoprivacidad/802_NV_aviso_integral.html</a></center></font></div>
<br>
<br>

            </div>
        </div>
    </div>
    <form enctype="application/x-www-form-urlencoded" name="certform" id="certform" method="post">
        <input type="hidden" id="tokenuuid" value="ZGQwYTU2NDktYmJjNi00MGEyLWE1ZGQtMWE5N2E4NjNkNjhl">
        <input type="hidden" id="token" name="token">
        <input type="hidden" id="credentialsRequired" name="credentialsRequired" value="CERT">
        <input type="hidden" id="guid" name="guid" value="ZGQwYTU2NDktYmJjNi00MGEyLWE1ZGQtMWE5N2E4NjNkNjhl">
        <input type="hidden" id="ks" name="ks" value="null">
        <input type="hidden" id="seeder" name="seeder">
        <input type="hidden" id="arc" name="arc">
        <input type="hidden" id="tan" name="tan">
        <input type="hidden" id="placer" name="placer">
        <input type="hidden" id="secuence" name="secuence">
        <input type="hidden" id="urlApplet" name="urlApplet" value="https://login.mat.sat.gob.mx/nidp/app/login?id=contr-eFirma">
        <input type="hidden" id="jcaptcha" name="jcaptcha">
        <input type="hidden" id="fert" name="fert">
    </form>
</main>




<footer class="main-footer"><div class="list-info"><div class="container"><div class="row"><div class="col-sm-3"><img data-v-9e928f9a="" src="https://framework-gb.cdn.gob.mx/landing/img/logoheader.svg" href="/" alt="logo gobierno de mÃ©xico" class="logo_footer" style="max-width: 90%;"></div><div class="col-sm-3"><h5>Enlaces</h5><ul><li><a href="https://participa.gob.mx" target="_blank" rel="noopener" title="Enlace abre en ventana nueva">Participa</a></li><li><a href="https://www.gob.mx/publicaciones" target="_blank" rel="noopener" title="Enlace abre en ventana nueva">Publicaciones Oficiales</a></li><li><a href="http://www.ordenjuridico.gob.mx" target="_blank" rel="noopener" title="Enlace abre en ventana nueva">Marco JurÃ­dico</a></li><li><a href="https://consultapublicamx.inai.org.mx/vut-web/" target="_blank" rel="noopener" title="Enlace abre en ventana nueva">Plataforma Nacional de Transparencia</a></li></ul></div><div class="col-sm-3"><h5>¿Qué es gob.mx?</h5><p>Es el portal único de trámites, información y participación ciudadana. <a href="https://www.gob.mx/que-es-gobmx">Leer más</a></p><ul><li><a href="https://datos.gob.mx">Portal de datos abiertos</a></li><li><a href="https://www.gob.mx/accesibilidad">DeclaraciÃ³n de accesibilidad</a></li><li><a href="https://www.gob.mx/privacidadintegral">Aviso de privacidad integral</a></li><li><a href="https://www.gob.mx/privacidadsimplificado">Aviso de privacidad simplificado</a></li><li><a href="https://www.gob.mx/terminos">Términos y Condiciones</a></li><li><a href="https://www.gob.mx/terminos#medidas-seguridad-informacion">PolÃ­tica de seguridad</a></li><li><a href="https://www.gob.mx/sitemap">Mapa de sitio</a></li></ul></div><div class="col-sm-3"><h5><a href="https://www.gob.mx/tramites/ficha/presentacion-de-quejas-y-denuncias-en-la-sfp/SFP54">Denuncia contra servidores pÃºblicos</a></h5><h5>Síguenos en</h5><ul class="list-inline"><li><a class="social-icon facebook" target="_blank" rel="noopener" title="Enlace abre en ventana nueva" href="https://www.facebook.com/gobmexico" aria-label="Facebook de presidencia"></a></li><li><a class="social-icon twitter" target="_blank" rel="noopener" title="Enlace abre en ventana nueva" href="https://twitter.com/GobiernoMX" aria-label="Twitter de presidencia"></a></li></ul></div></div></div></div><div class="container-fluid footer-pleca"><div class="row"><div class="col"><br><br></div></div></div></footer></body></html>